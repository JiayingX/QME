---
title: 'CTT analysis for test: `r thistest$test_name`'
output:
  html_document:
    toc: yes
  pdf_document:
    toc: yes
  word_document: default
date: "Generated `r date()`"
---



**Number of items:** `r x$test_level$descriptives$number_items`

**Number of examinees:** `r x$test_level$descriptives$number_examinees`


## Total score information

```{r totalscores, echo = FALSE, message=FALSE}
test_info_out(x)

knitr::kable(tinfo2, digits = 2)

```


## Reliability

```{r reliability, echo = FALSE}
x$test_level$reliability
x$item_level$del_alphas
```

*Brief notes about reliability assumptions here.*

## Item overview

```{r item_overview, echo = FALSE, results='asis'}
overview = data.frame(x$item_level$item_stats, x$item_level$missing)
names(overview) = c("Difficulty", "PBiS", "Corrected PBiS", "Missing (N)", "Missing (p)")

knitr::kable(overview, digits = 2)


ggplot(overview, aes(x = Difficulty)) + 
  geom_dotplot() + 
  scale_y_continuous(name = "", breaks = NULL) +
  scale_x_continuous("Difficulty", lim = c(0,1)) +
  theme_bw() +
  ggtitle("Item Difficulties")

```



```{r terciles}

basicdf$difficultybin = findInterval(basicdf$difficulty, (0:10)/10)/10 - 0.05

ggplot(basicdf, aes(difficultybin,
                    y = 1,
                    label = item)) + 
  geom_text(position = "stack") + 
  scale_y_continuous("Number of items") +
  scale_x_continuous("Difficulty") +
  coord_cartesian(xlim = c(0, 1)) +
  coord_flip() +
  ggtitle("Item Difficulties")


```



## Item details

```{r itemloop_prep, echo = FALSE, message = FALSE}
x$item_level$distractor_analysis
```


